<!DOCTYPE html>
<html>
<head>
    <!-- <script src='jquery-3.6.0.min.js'></script> -->
<style>

.text {
  overflow: hidden;
}

body{
  font-size: 6vw;
  margin: 5vw;
}

p{
  font-size: 12pt;
  text-align: center;
}

.columns {
  display: flex;
  flex-wrap: wrap;
}

.column {
  flex: 0 0 calc(50% - 20px);
  margin: 10px;
}


</style>
</head>
<body onload="initMap()">

  <p> ☞pinch my site to get more out of it☜</p>

  <div class="columns">
    <div class="column">
      <div id="text">Column 1<br>
      gfdsagfdsafdsa</div>
    </div>
    <div class="column">
      <div id="text">Column 2<br>
      gfdsagfdsafdsa</div>
    </div>
    <div class="column">
      <div id="text">Column 3<br>
      gfdsagfdsafdsa</div>
    </div>
    <div class="column">
      <div id="text">Column 4<br>
      gfdsagfdsafdsa</div>
    </div>
    <div class="column">
      <div id="text">Column 5<br>
      gfdsagfdsafdsa</div>
    </div>
    <div class="column">
      <div id="text">Column 6<br>
      gfdsagfdsafdsa</div>
    </div>
  </div>


  <div id="map"></div>
  <script>
  // Select all elements with the .text class
const textElements = document.querySelectorAll('.text');

// Set the scroll-behavior CSS property of the html element to auto
document.querySelector('html').style.scrollBehavior = 'auto';

// Loop through each text element
textElements.forEach(textElement => {
  // Initialize the counter to 0
  let counter = 0;

  // Set the threshold for the counter
  const threshold = 25;

  // Split the text in the element into an array of paragraphs
  const paragraphs = textElement.innerText.split('\n');

  // Initialize the index to 0
  let i = 0;

  // Function to handle the scrolling or zooming
  function handleScroll(event) {
    // Initialize the deltaY value to 0
    let deltaY = 0;

    // If the event is a touch event
    if (event.type.startsWith('touch')) {
      // Get the deltaY value from the clientY property of the first touch
      deltaY = event.touches[0].clientY;
    } else {
      // Otherwise, get the deltaY value from the event
      deltaY = event.deltaY;
    }

    // Prevent the page from zooming
    event.preventDefault();

    // Increment the counter
    counter++;

    // If the deltaY value is greater than 0, the index is less than the length of the paragraphs array, and the counter is equal to or greater than the threshold
    if (deltaY > 0 && i < paragraphs.length && counter >= threshold) {
      // Reset the counter
      counter = 0;

      // Increment the index and append the next paragraph to the text element
      i++;
      textElement.innerHTML += `${paragraphs[i]}`;
    }
  }

  // Attach the wheel event listener to the text element on desktop devices
  textElement.addEventListener('wheel', handleScroll);

  // Attach the touchstart, touchmove, and touchend event listeners to the text element on mobile devices
  textElement.addEventListener('touchstart', handleScroll);
  textElement.addEventListener('touchmove', handleScroll);
  textElement.addEventListener('touchend', handleScroll);

  // Set the innerHTML of the text element to the first paragraph
  textElement.innerHTML = paragraphs[0];
});
</script>
</body>
</html>
